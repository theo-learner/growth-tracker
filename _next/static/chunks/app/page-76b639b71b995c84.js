(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{637:function(e,t,s){Promise.resolve().then(s.bind(s,8954))},8954:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return es}});var a=s(7437),i=s(3011),l=s(6885);function n(e){let t=new Date;return t.setDate(t.getDate()-e),t.toISOString()}function r(e,t){let s=new Date;return s.setHours(e,t,0,0),s.toISOString()}let d=(0,i.U)()((0,l.tJ)((e,t)=>({onboardingComplete:!1,onboardingStep:1,children:[],activeChildId:null,allActivities:{},child:null,temperament:null,hasExistingTest:!1,activities:[],weeklyReport:null,recommendations:[],products:[],monthlyData:[],milestones:[],setOnboardingStep:t=>e({onboardingStep:t}),setChild:t=>e({child:t}),setTemperament:t=>e({temperament:t}),setHasExistingTest:t=>e({hasExistingTest:t}),completeOnboarding:()=>{let s=t(),a=s.child,i=(null==a?void 0:a.nickname)||"아이",l=[{id:"act-001",type:"activity",timestamp:r(14,30),data:{category:"퍼즐",durationMin:48,detail:"72조각 공룡 퍼즐 — ".concat(i,"가 처음 혼자 완성!")}},{id:"act-002",type:"question",timestamp:r(11,20),data:{quote:"엄마 왜 달은 낮에도 있어?",context:"산책 중에 갑자기"}},{id:"act-003",type:"reading",timestamp:r(9,0),data:{bookTitle:"이상한 나라의 앨리스",readAlone:!1,durationMin:30}},{id:"act-004",type:"emotion",timestamp:r(19,0),data:{emoji:"\uD83D\uDE0A",label:"행복",note:"퍼즐 완성하고 아주 뿌듯해했어요"}},{id:"act-005",type:"activity",timestamp:n(1),data:{category:"블록",durationMin:35,detail:"레고로 우주선 만들기"}},{id:"act-006",type:"reading",timestamp:n(1),data:{bookTitle:"구름빵",readAlone:!0,durationMin:15}},{id:"act-007",type:"question",timestamp:n(1),data:{quote:"왜 비행기는 안 떨어져?",context:"레고 놀이 중"}},{id:"act-008",type:"activity",timestamp:n(2),data:{category:"미술",durationMin:40,detail:"색연필로 가족 그림 그림"}},{id:"act-009",type:"photo",timestamp:n(2),data:{fileName:"family_drawing.jpg",note:"가족 그림 완성!"}},{id:"act-010",type:"activity",timestamp:n(3),data:{category:"퍼즐",durationMin:52,detail:"72조각 동물 퍼즐"}},{id:"act-011",type:"reading",timestamp:n(3),data:{bookTitle:"수학도둑",readAlone:!1,durationMin:25}},{id:"act-012",type:"activity",timestamp:n(4),data:{category:"체육",durationMin:60,detail:"공원에서 자전거 타기"}},{id:"act-013",type:"emotion",timestamp:n(4),data:{emoji:"\uD83D\uDE24",label:"짜증",note:"숙제 하기 싫다고 울었어요"}},{id:"act-014",type:"question",timestamp:n(5),data:{quote:"공룡은 왜 없어졌어?",context:"공룡 도감 보면서"}},{id:"act-015",type:"activity",timestamp:n(5),data:{category:"코딩",durationMin:30,detail:"스크래치 주니어로 고양이 움직이기"}},{id:"act-016",type:"reading",timestamp:n(6),data:{bookTitle:"어린왕자",readAlone:!1,durationMin:20}},{id:"act-017",type:"activity",timestamp:n(6),data:{category:"음악",durationMin:25,detail:"피아노 연습 — 나비야 완주"}}],d=a&&!s.children.find(e=>e.id===a.id)?[...s.children,a]:s.children,c={...s.allActivities};a&&(c[a.id]=l),e({onboardingComplete:!0,children:d,activeChildId:(null==a?void 0:a.id)||null,activities:l,allActivities:c,weeklyReport:{weekLabel:"2월 1주차",startDate:"2026-02-01",endDate:"2026-02-07",scores:{language:75,visuospatial:82,workingMemory:70,processingSpeed:78,logic:68,fineMotor:72},prevScores:{language:72,visuospatial:77,workingMemory:71,processingSpeed:70,logic:66,fineMotor:70},highlights:["\uD83E\uDDE9 퍼즐 시간이 4분 단축됐어요! (52분 → 48분)",'\uD83D\uDCAC "왜?" 질문이 하루 평균 3회 → 5회로 늘었어요',"\uD83D\uDCD6 이번 주 책 4권 읽었어요!"],bands:{language:{band:"상위 15~25%",trend:"up"},visuospatial:{band:"상위 10~20%",trend:"up"},workingMemory:{band:"상위 25~35%",trend:"stable"},processingSpeed:{band:"상위 20~30%",trend:"up"},logic:{band:"상위 30~40%",trend:"stable"},fineMotor:{band:"상위 20~30%",trend:"up"}}},recommendations:[{title:"100조각 퍼즐 도전하기",description:"72조각을 48분에 완성했으니, 100조각도 도전해볼 때예요!",reason:"시공간 + 처리속도 향상",domains:["시지각","처리속도"],duration:"50~60분",icon:"\uD83E\uDDE9"},{title:"과학 그림책 함께 읽기",description:"달에 대해 궁금해하고 있으니 호기심을 키워줄 수 있어요",reason:"언어 + 논리 향상",domains:["언어","논리"],duration:"20~30분",icon:"\uD83D\uDCD6"},{title:"가위로 곡선 오리기",description:"소근육이 빠르게 자라고 있어서 한 단계 올려봐요",reason:"소근육 + 집중력 향상",domains:["소근육"],duration:"15~20분",icon:"✂️"}],products:[{name:"라벤스부르거 100P 동물 퍼즐",price:"₩18,900",reason:"시공간 능력 강화에 도움돼요",link:"https://www.coupang.com",icon:"\uD83E\uDDE9"},{name:"《달에 대해 알려줘》 과학 그림책",price:"₩12,600",reason:"호기심을 탐구로 연결시켜줘요",link:"https://www.coupang.com",icon:"\uD83D\uDCDA"},{name:"쿠몬 가위 연습 세트 (곡선 단계)",price:"₩9,800",reason:"소근육 발달 단계에 딱 맞는 난이도예요",link:"https://www.coupang.com",icon:"✂️"}],monthlyData:[{month:"11월",scores:{language:58,visuospatial:60,workingMemory:55,processingSpeed:52,logic:50,fineMotor:54}},{month:"12월",scores:{language:63,visuospatial:68,workingMemory:60,processingSpeed:60,logic:55,fineMotor:60}},{month:"1월",scores:{language:70,visuospatial:75,workingMemory:66,processingSpeed:70,logic:62,fineMotor:66}},{month:"2월",scores:{language:75,visuospatial:82,workingMemory:70,processingSpeed:78,logic:68,fineMotor:72}},{month:"3월",predicted:!0,scores:{language:79,visuospatial:86,workingMemory:73,processingSpeed:82,logic:72,fineMotor:76}},{month:"4월",predicted:!0,scores:{language:82,visuospatial:89,workingMemory:76,processingSpeed:85,logic:75,fineMotor:79}},{month:"5월",predicted:!0,scores:{language:85,visuospatial:91,workingMemory:78,processingSpeed:87,logic:78,fineMotor:82}}],milestones:[{id:"ms-1",title:"72조각 퍼즐 혼자 완성!",icon:"\uD83E\uDD47",achievedDate:"2026-02-07"},{id:"ms-2",title:'"왜?" 질문 100회 돌파',icon:"\uD83E\uDD48",achievedDate:"2026-01-15"},{id:"ms-3",title:"혼자 책 읽기 시작",icon:"\uD83E\uDD49",achievedDate:"2025-12-20"},{id:"ms-4",title:"7일 연속 기록 달성!",icon:"\uD83C\uDF1F",achievedDate:"2026-02-05"}]})},addActivity:t=>e(e=>{let s=[t,...e.activities],a={...e.allActivities};return e.activeChildId&&(a[e.activeChildId]=s),{activities:s,allActivities:a}}),updateActivity:(t,s)=>e(e=>({activities:e.activities.map(e=>e.id===t?{...e,...s}:e)})),deleteActivity:t=>e(e=>{let s=e.activities.filter(e=>e.id!==t),a={...e.allActivities};return e.activeChildId&&(a[e.activeChildId]=s),{activities:s,allActivities:a}}),addChild:t=>e(e=>({children:[...e.children,t],activeChildId:t.id,child:t,activities:[],allActivities:{...e.allActivities,[t.id]:[]}})),switchChild:t=>e(e=>{let s=e.children.find(e=>e.id===t);if(!s)return e;let a={...e.allActivities};return e.activeChildId&&(a[e.activeChildId]=e.activities),{activeChildId:t,child:s,activities:a[t]||[],allActivities:a}}),removeChild:t=>e(e=>{let s=e.children.filter(e=>e.id!==t),a={...e.allActivities};delete a[t];let i=e.activeChildId,l=e.child,n=e.activities;return e.activeChildId===t&&(i=s.length>0?s[0].id:null,l=s.length>0?s[0]:null,n=i&&a[i]||[]),{children:s,activeChildId:i,child:l,activities:n,allActivities:a,onboardingComplete:s.length>0}}),resetAll:()=>e({onboardingComplete:!1,onboardingStep:1,child:null,temperament:null,hasExistingTest:!1,activities:[],weeklyReport:null,recommendations:[],products:[],monthlyData:[],milestones:[]})}),{name:"growth-tracker-storage"}));var c=s(2265);function o(){let{setChild:e,setOnboardingStep:t}=d(),[s,i]=(0,c.useState)(""),[l,n]=(0,c.useState)(null),[r,o]=(0,c.useState)(null),m=s.trim()&&l&&r;return(0,a.jsxs)("div",{className:"animate-fadeIn",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"relative inline-block",children:[(0,a.jsx)("div",{className:"w-24 h-24 mx-auto rounded-full flex items-center justify-center bg-gradient-to-br from-soft-green-50 to-soft-green-100 border-2 border-soft-green-200/50 shadow-btn-green/20",children:(0,a.jsx)("span",{className:"text-5xl",children:"\uD83E\uDDD2"})}),(0,a.jsx)("span",{className:"absolute -top-1 -right-1 text-lg animate-bounce-gentle",children:"\uD83C\uDF31"})]}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-dark-gray mt-5",children:"우리 아이를 알려주세요"}),(0,a.jsxs)("p",{className:"text-sm text-mid-gray mt-2 leading-relaxed",children:["간단한 정보만 입력하면 돼요.",(0,a.jsx)("br",{}),"모든 정보는 안전하게 보관됩니다 \uD83D\uDD12"]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-dark-gray mb-2",children:"아이 이름 (닉네임)"}),(0,a.jsx)("input",{type:"text",value:s,onChange:e=>i(e.target.value),placeholder:"예: 유나",className:"input-field",maxLength:10}),s.trim()&&(0,a.jsxs)("p",{className:"text-xs text-soft-green mt-1.5 animate-fade-in",children:["✓ ",s.trim(),"(이)의 성장 이야기가 시작돼요!"]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-dark-gray mb-2",children:"만 나이"}),(0,a.jsx)("div",{className:"flex gap-3",children:[4,5,6].map(e=>(0,a.jsxs)("button",{onClick:()=>n(e),className:"\n                flex-1 py-3 rounded-card font-semibold text-base\n                transition-all duration-200\n                ".concat(l===e?"bg-gradient-green text-white shadow-btn-green scale-[1.02]":"bg-white text-dark-gray border border-light-gray hover:border-soft-green/50 hover:shadow-card","\n              "),children:["만 ",e,"세"]},e))})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-dark-gray mb-2",children:"성별"}),(0,a.jsx)("div",{className:"flex gap-3",children:[{value:"female",emoji:"\uD83D\uDC67",label:"여아"},{value:"male",emoji:"\uD83D\uDC66",label:"남아"},{value:"unknown",emoji:"\uD83C\uDF08",label:"안 밝힘"}].map(e=>(0,a.jsxs)("button",{onClick:()=>o(e.value),className:"\n                flex-1 py-3.5 rounded-card font-medium\n                transition-all duration-200\n                flex flex-col items-center gap-1.5\n                ".concat(r===e.value?"bg-gradient-green text-white shadow-btn-green scale-[1.02]":"bg-white text-dark-gray border border-light-gray hover:border-soft-green/50 hover:shadow-card","\n              "),children:[(0,a.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,a.jsx)("span",{className:"text-sm",children:e.label})]},e.value))})]}),(0,a.jsx)("button",{onClick:()=>{m&&(e({id:"child-".concat(Date.now()),nickname:s.trim(),age:l,gender:r,createdAt:new Date().toISOString()}),t(2))},disabled:!m,className:"btn-primary",children:"다음으로 →"})]})}let m=[{value:"bold",emoji:"\uD83D\uDE4B",label:"낯선 곳도 씩씩하게!",desc:"새로운 친구도 먼저 다가가요"},{value:"adaptive",emoji:"\uD83E\uDEE3",label:"처음엔 좀 살피다가...",desc:"적응하면 잘 놀아요"},{value:"inhibited",emoji:"\uD83E\uDD17",label:"엄마 뒤에 숨어요",desc:"익숙해지면 괜찮아요"}],x=[{value:"verbal",emoji:"\uD83D\uDDE3️",label:"말 표현력"},{value:"hands",emoji:"✋",label:"손 조작"},{value:"puzzle",emoji:"\uD83E\uDDE9",label:"퍼즐\xb7논리"},{value:"physical",emoji:"\uD83C\uDFC3",label:"체력"},{value:"art",emoji:"\uD83C\uDFA8",label:"미술\xb7창의력"},{value:"numbers",emoji:"\uD83D\uDCD0",label:"숫자\xb7계산"}],u=[{value:"puzzle",emoji:"\uD83E\uDDE9",label:"퍼즐"},{value:"books",emoji:"\uD83D\uDCDA",label:"책"},{value:"drawing",emoji:"\uD83C\uDFA8",label:"그림"},{value:"blocks",emoji:"\uD83C\uDFD7️",label:"블록"},{value:"music",emoji:"\uD83C\uDFB9",label:"음악"},{value:"sports",emoji:"\uD83C\uDFC3",label:"운동"}];function h(){let{child:e,setTemperament:t,setOnboardingStep:s}=d(),i=(null==e?void 0:e.nickname)||"아이",[l,n]=(0,c.useState)(""),[r,o]=(0,c.useState)([]),[h,g]=(0,c.useState)([]),p=(e,t,s)=>{s(e.includes(t)?e.filter(e=>e!==t):[...e,t])},b=""!==l;return(0,a.jsxs)("div",{className:"animate-fadeIn",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto rounded-full flex items-center justify-center bg-gradient-to-br from-sunny-yellow-light to-sunny-yellow/30 mb-4",children:(0,a.jsx)("span",{className:"text-3xl",children:"\uD83D\uDE0A"})}),(0,a.jsxs)("h1",{className:"text-2xl font-bold text-dark-gray",children:[i,"는 어떤 아이인가요?"]}),(0,a.jsx)("p",{className:"text-sm text-mid-gray mt-2",children:"편하게 골라주세요, 정답은 없어요"})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"section-title",children:"\uD83C\uDF0D 새로운 환경에서 우리 아이는?"}),(0,a.jsx)("div",{className:"flex flex-col gap-2.5",children:m.map(e=>(0,a.jsx)("button",{onClick:()=>n(e.value),className:"\n                w-full py-4 px-4 rounded-card text-left\n                transition-all duration-200\n                ".concat(l===e.value?"bg-gradient-green-soft border-2 border-soft-green shadow-btn-green/20 scale-[1.01]":"bg-white border border-light-gray hover:border-soft-green/40 hover:shadow-card","\n              "),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-2xl flex-shrink-0",children:e.emoji}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold text-sm ".concat(l===e.value?"text-soft-green-700":"text-dark-gray"),children:e.label}),(0,a.jsx)("p",{className:"text-xs text-mid-gray mt-0.5",children:e.desc})]}),l===e.value&&(0,a.jsx)("div",{className:"ml-auto w-6 h-6 rounded-full bg-soft-green flex items-center justify-center flex-shrink-0 animate-scale-in",children:(0,a.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:(0,a.jsx)("path",{d:"M2.5 6L5 8.5L9.5 3.5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})},e.value))})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"section-title",children:"⚡ 또래보다 빠르다고 느끼는 건?"}),(0,a.jsx)("p",{className:"text-xs text-mid-gray mb-3 -mt-2",children:"여러 개 선택 가능 \xb7 없으면 건너뛰어도 돼요"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2.5",children:x.map(e=>(0,a.jsxs)("button",{onClick:()=>p(r,e.value,o),className:"\n                py-3.5 px-2 rounded-card text-center\n                transition-all duration-200\n                ".concat(r.includes(e.value)?"bg-gradient-green text-white shadow-btn-green scale-[1.03]":"bg-white text-dark-gray border border-light-gray hover:border-soft-green/40 hover:shadow-card","\n              "),children:[(0,a.jsx)("div",{className:"text-xl mb-1",children:e.emoji}),(0,a.jsx)("div",{className:"text-xs font-medium",children:e.label})]},e.value))})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"section-title",children:"\uD83C\uDFAF 요즘 빠져있는 건?"}),(0,a.jsx)("p",{className:"text-xs text-mid-gray mb-3 -mt-2",children:"여러 개 선택 가능"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2.5",children:u.map(e=>(0,a.jsxs)("button",{onClick:()=>p(h,e.value,g),className:"\n                py-3.5 px-2 rounded-card text-center\n                transition-all duration-200\n                ".concat(h.includes(e.value)?"bg-gradient-green text-white shadow-btn-green scale-[1.03]":"bg-white text-dark-gray border border-light-gray hover:border-soft-green/40 hover:shadow-card","\n              "),children:[(0,a.jsx)("div",{className:"text-xl mb-1",children:e.emoji}),(0,a.jsx)("div",{className:"text-xs font-medium",children:e.label})]},e.value))})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>s(1),className:"btn-secondary flex-1",children:"← 이전"}),(0,a.jsx)("button",{onClick:()=>{b&&(t({newEnvironment:l,fasterThanPeers:r,currentObsession:h}),s(3))},disabled:!b,className:"btn-primary flex-[2]",children:"다음으로 →"})]})]})}function g(){let{setHasExistingTest:e,completeOnboarding:t,setOnboardingStep:s}=d(),[i,l]=(0,c.useState)(!1),[n,r]=(0,c.useState)("");return(0,a.jsxs)("div",{className:"animate-fadeIn",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"혹시 받아둔 검사가 있나요? \uD83D\uDCCB"}),(0,a.jsxs)("p",{className:"text-sm text-mid-gray mt-2 leading-relaxed",children:["있으면 올려주시면 AI가 더 정확하게 분석할 수 있어요.",(0,a.jsx)("br",{}),"없어도 괜찮아요!"]})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("label",{className:"block w-full p-8 border-2 border-dashed rounded-card text-center cursor-pointer transition-all\n            ".concat(i?"border-soft-green bg-soft-green/5":"border-light-gray bg-white hover:border-soft-green/50"),children:[(0,a.jsx)("input",{type:"file",accept:"image/*,.pdf",onChange:t=>{var s;let a=null===(s=t.target.files)||void 0===s?void 0:s[0];a&&(r(a.name),l(!0),e(!0))},className:"hidden"}),i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-4xl mb-2",children:"✅"}),(0,a.jsx)("p",{className:"font-semibold text-soft-green",children:n}),(0,a.jsx)("p",{className:"text-xs text-mid-gray mt-1",children:"파일 업로드 완료"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCC4"}),(0,a.jsx)("p",{className:"font-semibold text-dark-gray",children:"검사 결과 업로드"}),(0,a.jsx)("p",{className:"text-xs text-mid-gray mt-1",children:"사진 또는 PDF (K-WISC, 발달검사 등)"}),(0,a.jsx)("div",{className:"mt-3 inline-block px-4 py-2 bg-soft-green/10 text-soft-green rounded-button text-sm font-semibold",children:"\uD83D\uDCCE 파일 선택"})]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"flex-1 h-px bg-light-gray"}),(0,a.jsx)("span",{className:"text-xs text-mid-gray",children:"또는"}),(0,a.jsx)("div",{className:"flex-1 h-px bg-light-gray"})]}),(0,a.jsx)("button",{onClick:()=>{e(!1),t()},className:"w-full py-3 mb-6 rounded-button font-medium text-base bg-white text-mid-gray border border-light-gray hover:border-soft-green/50 transition-all",children:"\uD83D\uDE45 안 했어요 / 나중에"}),(0,a.jsx)("p",{className:"text-xs text-mid-gray text-center mb-6",children:"\uD83D\uDD12 업로드한 파일은 암호화되어 안전하게 보관됩니다."}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>s(2),className:"flex-1 h-12 rounded-button font-semibold text-base bg-white text-mid-gray border border-light-gray hover:border-soft-green transition-all",children:"← 이전"}),i&&(0,a.jsx)("button",{onClick:()=>{t()},className:"flex-[2] h-12 rounded-button font-semibold text-base bg-soft-green text-white shadow-md hover:bg-soft-green/90 active:scale-[0.98] transition-all",children:"\uD83C\uDF31 시작하기!"})]})]})}function p(){let e=d(e=>e.onboardingStep),t=["기본 정보","기질 파악","검사 결과"];return(0,a.jsxs)("div",{className:"min-h-screen bg-warm-beige px-5 pt-10 pb-8",children:[(0,a.jsxs)("div",{className:"mb-10 px-4",children:[(0,a.jsx)("div",{className:"onboarding-progress-track mb-6",children:(0,a.jsx)("div",{className:"onboarding-progress-fill",style:{width:"".concat((e-1)/2*100,"%")}})}),(0,a.jsx)("div",{className:"flex items-start justify-between px-2",children:[1,2,3].map((s,i)=>(0,a.jsxs)("div",{className:"flex items-center flex-1",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"\n                    step-dot\n                    ".concat(s<e?"step-dot-done":s===e?"step-dot-active":"step-dot-pending","\n                  "),children:s<e?(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,a.jsx)("path",{d:"M3.5 8L6.5 11L12.5 4.5",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}):s}),(0,a.jsx)("span",{className:"\n                  step-label\n                  ".concat(s<e?"step-label-done":s===e?"step-label-active":"step-label-pending","\n                "),children:t[i]})]}),i<2&&(0,a.jsx)("div",{className:"flex-1 mx-2 mt-[-18px]",children:(0,a.jsx)("div",{className:"onboarding-progress-track",children:(0,a.jsx)("div",{className:"onboarding-progress-fill",style:{width:s<e?"100%":s===e?"40%":"0%"}})})})]},s))})]}),1===e&&(0,a.jsx)(o,{}),2===e&&(0,a.jsx)(h,{}),3===e&&(0,a.jsx)(g,{})]})}function b(e){let{icon:t,label:s,onClick:i}=e;return(0,a.jsxs)("button",{onClick:i,className:"record-btn group",children:[(0,a.jsx)("span",{className:"text-2xl record-btn-icon group-hover:scale-110 transition-transform duration-200",children:t}),(0,a.jsx)("span",{className:"text-[11px] font-semibold text-dark-gray/80 group-hover:text-dark-gray whitespace-pre-line text-center leading-tight transition-colors duration-200",children:s})]})}function f(e){let{activities:t}=e;return 0===t.length?(0,a.jsxs)("div",{className:"bg-white rounded-card shadow-card p-6 text-center",children:[(0,a.jsx)("p",{className:"text-3xl mb-2",children:"\uD83D\uDCDD"}),(0,a.jsxs)("p",{className:"text-sm text-mid-gray",children:["아직 오늘 기록이 없어요.",(0,a.jsx)("br",{}),"위 버튼을 눌러 기록해보세요!"]})]}):(0,a.jsx)("div",{className:"bg-white rounded-card shadow-card overflow-hidden divide-y divide-light-gray",children:t.map(e=>(0,a.jsx)(j,{activity:e},e.id))})}function j(e){let{activity:t}=e,[s,i]=(0,c.useState)(!1),[l,n]=(0,c.useState)(!1),r=d(e=>e.deleteActivity),o=new Date(t.timestamp).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),{icon:m,text:x}=function(e){switch(e.type){case"activity":{let t=e.data;return{icon:"⏱️",text:"".concat(t.category," — ").concat(t.durationMin,"분").concat(t.detail?" \xb7 ".concat(t.detail):"")}}case"question":{let t=e.data;return{icon:"\uD83D\uDCAC",text:'"'.concat(t.quote,'"').concat(t.context?" (".concat(t.context,")"):"")}}case"reading":{let t=e.data;return{icon:"\uD83D\uDCD6",text:"《".concat(t.bookTitle,"》 ").concat(t.durationMin?"".concat(t.durationMin,"분 "):"").concat(t.readAlone?"혼자 읽음":"같이 읽음")}}case"emotion":{let t=e.data;return{icon:t.emoji,text:"".concat(t.label).concat(t.note?" — ".concat(t.note):"")}}case"photo":{let t=e.data;return{icon:"\uD83D\uDCF8",text:"사진 기록".concat(t.note?" — ".concat(t.note):"")}}default:return{icon:"\uD83D\uDCDD",text:"기록"}}}(t),u="photo"===t.type?t.data:null;return(0,a.jsxs)("div",{className:"px-4 py-3 flex items-start gap-3 relative group",children:[(0,a.jsx)("span",{className:"text-lg mt-0.5",children:m}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(null==u?void 0:u.imageData)&&(0,a.jsx)("img",{src:u.imageData,alt:"기록 사진",className:"w-full max-w-[200px] h-auto rounded-lg mb-2 object-cover"}),(0,a.jsx)("p",{className:"text-sm text-dark-gray leading-relaxed",children:x}),(0,a.jsx)("p",{className:"text-xs text-mid-gray mt-1",children:o})]}),(0,a.jsx)("button",{onClick:()=>i(!s),className:"opacity-0 group-hover:opacity-100 transition-opacity w-7 h-7 rounded-full hover:bg-gray-100  flex items-center justify-center text-gray-400",children:"⋮"}),s&&(0,a.jsx)("div",{className:"absolute right-4 top-10 bg-white rounded-lg shadow-lg border z-10 py-1 min-w-[100px]",children:l?(0,a.jsxs)("div",{className:"px-3 py-2",children:[(0,a.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"삭제할까요?"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>{r(t.id),n(!1),i(!1)},className:"flex-1 px-2 py-1 bg-red-500 text-white text-xs rounded",children:"확인"}),(0,a.jsx)("button",{onClick:()=>{n(!1),i(!1)},className:"flex-1 px-2 py-1 bg-gray-200 text-gray-600 text-xs rounded",children:"취소"})]})]}):(0,a.jsx)("button",{onClick:()=>n(!0),className:"w-full px-4 py-2 text-left text-sm text-red-500 hover:bg-red-50",children:"\uD83D\uDDD1️ 삭제"})})]})}let v=[{value:"퍼즐",emoji:"\uD83E\uDDE9"},{value:"블록",emoji:"\uD83C\uDFD7️"},{value:"학습",emoji:"✏️"},{value:"미술",emoji:"\uD83C\uDFA8"},{value:"운동",emoji:"\uD83C\uDFC3"},{value:"기타",emoji:"\uD83D\uDCDD"}],D=[{emoji:"\uD83D\uDE0A",label:"행복"},{emoji:"\uD83D\uDE10",label:"보통"},{emoji:"\uD83D\uDE24",label:"짜증"},{emoji:"\uD83D\uDE22",label:"슬픔"},{emoji:"\uD83D\uDE34",label:"피곤"},{emoji:"\uD83E\uDD29",label:"신남"}];function N(e){let{type:t,onClose:s}=e,i=d(e=>e.addActivity),l=(0,c.useRef)(null),[n,r]=(0,c.useState)(""),[o,m]=(0,c.useState)(""),[x,u]=(0,c.useState)(""),[h,g]=(0,c.useState)(""),[p,b]=(0,c.useState)(!1),[f,j]=(0,c.useState)(""),[N,y]=(0,c.useState)(""),[w,k]=(0,c.useState)(null),[C,S]=(0,c.useState)(""),[A,E]=(0,c.useState)(null),F=e=>{S(e.name);let t=new FileReader;t.onloadend=()=>{E(t.result)},t.readAsDataURL(e)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bottom-sheet-backdrop",onClick:s}),(0,a.jsxs)("div",{className:"bottom-sheet",children:[(0,a.jsx)("div",{className:"bottom-sheet-handle"}),(0,a.jsxs)("div",{className:"px-5 pb-8 max-h-[70vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-bold",children:{photo:"\uD83D\uDCF8 사진 올리기",activity:"⏱️ 활동 기록",question:"\uD83D\uDCAC 아이 질문 기록",reading:"\uD83D\uDCD6 독서 기록",emotion:"\uD83D\uDE24 감정 메모"}[t]}),(0,a.jsx)("button",{onClick:s,className:"text-mid-gray text-xl",children:"✕"})]}),"photo"===t&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("button",{onClick:()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.click()},className:"w-full py-8 border-2 border-dashed border-light-gray rounded-card text-center hover:border-soft-green transition-all",children:[(0,a.jsx)("input",{ref:l,type:"file",accept:"image/*",className:"hidden",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];s&&F(s)}}),A?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:A,alt:"미리보기",className:"max-h-40 mx-auto rounded-lg object-contain"}),(0,a.jsxs)("p",{className:"text-xs text-soft-green mt-2",children:["✅ ",C]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-3xl mb-2",children:"\uD83D\uDCF7"}),(0,a.jsx)("p",{className:"text-sm text-mid-gray",children:"탭해서 사진 선택"})]})]}),(0,a.jsx)("textarea",{value:n,onChange:e=>r(e.target.value),placeholder:"메모 (선택)",className:"w-full h-20 px-3 py-2 border border-light-gray rounded-button text-sm resize-none focus:outline-none focus:border-soft-green"})]}),"activity"===t&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold mb-2",children:"활동 종류"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:v.map(e=>(0,a.jsxs)("button",{onClick:()=>m(e.value),className:"py-3 rounded-card text-center text-sm font-medium transition-all\n                        ".concat(o===e.value?"bg-soft-green text-white shadow-md":"bg-warm-beige text-dark-gray hover:bg-soft-green/10"),children:[(0,a.jsx)("span",{className:"text-xl block mb-1",children:e.emoji}),e.value]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold mb-2",children:"소요 시간 (분)"}),(0,a.jsx)("input",{type:"number",value:x,onChange:e=>u(e.target.value),placeholder:"예: 30",className:"w-full h-12 px-4 border border-light-gray rounded-button text-base focus:outline-none focus:border-soft-green"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold mb-2",children:"메모 (선택)"}),(0,a.jsx)("textarea",{value:n,onChange:e=>r(e.target.value),placeholder:"예: 72조각 공룡 퍼즐 혼자 완성!",className:"w-full h-20 px-3 py-2 border border-light-gray rounded-button text-sm resize-none focus:outline-none focus:border-soft-green"})]})]}),"question"===t&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold mb-2",children:"아이가 한 질문"}),(0,a.jsx)("textarea",{value:f,onChange:e=>j(e.target.value),placeholder:'예: "엄마 왜 달은 낮에도 있어?"',className:"w-full h-24 px-3 py-2 border border-light-gray rounded-button text-sm resize-none focus:outline-none focus:border-soft-green"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold mb-2",children:"상황 (선택)"}),(0,a.jsx)("input",{type:"text",value:N,onChange:e=>y(e.target.value),placeholder:"예: 산책 중에 갑자기",className:"w-full h-12 px-4 border border-light-gray rounded-button text-sm focus:outline-none focus:border-soft-green"})]})]}),"reading"===t&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold mb-2",children:"책 제목"}),(0,a.jsx)("input",{type:"text",value:h,onChange:e=>g(e.target.value),placeholder:"예: 구름빵",className:"w-full h-12 px-4 border border-light-gray rounded-button text-base focus:outline-none focus:border-soft-green"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold mb-2",children:"읽기 방식"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>b(!1),className:"flex-1 py-3 rounded-button font-medium text-sm transition-all\n                      ".concat(p?"bg-warm-beige text-dark-gray":"bg-soft-green text-white"),children:"\uD83D\uDCD6 같이 읽음"}),(0,a.jsx)("button",{onClick:()=>b(!0),className:"flex-1 py-3 rounded-button font-medium text-sm transition-all\n                      ".concat(p?"bg-soft-green text-white":"bg-warm-beige text-dark-gray"),children:"\uD83E\uDDD1 혼자 읽음"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold mb-2",children:"읽은 시간 (분, 선택)"}),(0,a.jsx)("input",{type:"number",value:x,onChange:e=>u(e.target.value),placeholder:"예: 20",className:"w-full h-12 px-4 border border-light-gray rounded-button text-sm focus:outline-none focus:border-soft-green"})]})]}),"emotion"===t&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold mb-2",children:"오늘 아이 기분"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:D.map(e=>(0,a.jsxs)("button",{onClick:()=>k(e),className:"py-3 rounded-card text-center transition-all\n                        ".concat((null==w?void 0:w.label)===e.label?"bg-soft-green text-white shadow-md":"bg-warm-beige text-dark-gray hover:bg-soft-green/10"),children:[(0,a.jsx)("span",{className:"text-2xl block mb-1",children:e.emoji}),(0,a.jsx)("span",{className:"text-xs font-medium",children:e.label})]},e.label))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold mb-2",children:"한줄 메모 (선택)"}),(0,a.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"예: 퍼즐 완성하고 뿌듯해했어요",className:"w-full h-12 px-4 border border-light-gray rounded-button text-sm focus:outline-none focus:border-soft-green"})]})]}),(0,a.jsx)("button",{onClick:()=>{let e;let a="act-".concat(Date.now()),l=new Date().toISOString();switch(t){case"activity":if(!o)return;e={id:a,type:t,timestamp:l,data:{category:o,durationMin:parseInt(x)||0,detail:n}};break;case"question":if(!f.trim())return;e={id:a,type:t,timestamp:l,data:{quote:f.trim(),context:N.trim()||void 0}};break;case"reading":if(!h.trim())return;e={id:a,type:t,timestamp:l,data:{bookTitle:h.trim(),readAlone:p,durationMin:parseInt(x)||void 0}};break;case"emotion":if(!w)return;e={id:a,type:t,timestamp:l,data:{emoji:w.emoji,label:w.label,note:n.trim()||void 0}};break;case"photo":e={id:a,type:t,timestamp:l,data:{fileName:C||"photo.jpg",note:n.trim()||void 0,imageData:A||void 0}};break;default:return}i(e),s()},className:"w-full h-12 mt-6 rounded-button font-semibold text-base bg-soft-green text-white shadow-md hover:bg-soft-green/90 active:scale-[0.98] transition-all",children:"✅ 기록 완료"})]})]})]})}let y={insights:[{type:"progress",icon:"\uD83D\uDCC8",message:"오늘 기록을 분석하고 있어요...",domain:""}],todayTip:"아이와 함께하는 모든 활동이 성장의 기회예요!"};function w(){let e=d(e=>e.activities),t=d(e=>e.child),[s,i]=(0,c.useState)(null),[l,n]=(0,c.useState)(!1),[r,o]=(0,c.useState)(null),m=new Date().toISOString().split("T")[0],x=e.filter(e=>e.timestamp.startsWith(m));if((0,c.useEffect)(()=>{if(0===x.length){i(null);return}(async()=>{n(!0),o(null);try{let e=await fetch("/api/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({activities:x,childProfile:t})});if(!e.ok)throw Error("분석 실패");let s=await e.json();i(s)}catch(e){o("분석을 불러오지 못했어요"),i(y)}finally{n(!1)}})()},[x.length]),0===x.length)return(0,a.jsxs)("div",{className:"card-insight",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("div",{className:"w-7 h-7 rounded-full bg-soft-green/15 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm",children:"✨"})}),(0,a.jsx)("h3",{className:"text-sm font-bold text-soft-green-600",children:"AI 인사이트"})]}),(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("p",{className:"text-3xl mb-2",children:"\uD83D\uDCDD"}),(0,a.jsxs)("p",{className:"text-sm text-mid-gray",children:["오늘 첫 기록을 남기면",(0,a.jsx)("br",{}),"AI가 인사이트를 알려드려요!"]})]})]});let u=s||y;return(0,a.jsxs)("div",{className:"card-insight",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("div",{className:"w-7 h-7 rounded-full bg-soft-green/15 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm",children:"✨"})}),(0,a.jsx)("h3",{className:"text-sm font-bold text-soft-green-600",children:"AI 인사이트"}),l&&(0,a.jsx)("span",{className:"text-xs text-mid-gray animate-pulse",children:"분석 중..."})]}),(0,a.jsx)("div",{className:"space-y-3",children:u.insights.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-2.5 rounded-button bg-white/60 border border-soft-green-100/30",children:[(0,a.jsx)("span",{className:"text-lg shrink-0 mt-0.5",children:e.icon}),(0,a.jsx)("p",{className:"text-sm text-dark-gray leading-relaxed",children:e.message})]},t))}),(0,a.jsx)("div",{className:"divider-warm my-4"}),(0,a.jsx)("div",{className:"card-highlight",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-lg shrink-0",children:"\uD83D\uDCA1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-bold text-sunny-yellow-dark mb-1",children:"오늘의 팁"}),(0,a.jsx)("p",{className:"text-sm text-dark-gray leading-relaxed",children:u.todayTip})]})]})}),r&&(0,a.jsx)("p",{className:"text-xs text-red-400 mt-2 text-center",children:r})]})}function k(){let{child:e,activities:t}=d(),[s,i]=(0,c.useState)(null),l=(0,c.useMemo)(()=>(null==e?void 0:e.createdAt)?Math.max(1,Math.floor((Date.now()-new Date(e.createdAt).getTime())/864e5)+1):1,[e]),n=new Date().toDateString(),r=t.filter(e=>new Date(e.timestamp).toDateString()===n);return(0,a.jsxs)("div",{className:"px-5",children:[(0,a.jsxs)("div",{className:"text-center py-5",children:[(0,a.jsxs)("div",{className:"relative inline-block mb-3",children:[(0,a.jsx)("div",{className:"w-[72px] h-[72px] mx-auto rounded-full bg-gradient-to-br from-soft-green-50 to-soft-green-100 border-2 border-soft-green-200/40 shadow-card-green flex items-center justify-center text-3xl",children:(null==e?void 0:e.gender)==="female"?"\uD83D\uDC67":(null==e?void 0:e.gender)==="male"?"\uD83D\uDC66":"\uD83E\uDDD2"}),(0,a.jsx)("span",{className:"absolute -top-0.5 -right-0.5 text-base animate-float",children:"\uD83C\uDF31"})]}),(0,a.jsx)("h2",{className:"text-xl font-bold text-dark-gray",children:null==e?void 0:e.nickname}),(0,a.jsxs)("p",{className:"text-sm text-mid-gray mt-0.5",children:["만 ",null==e?void 0:e.age,"세"]}),(0,a.jsxs)("div",{className:"inline-flex items-center gap-1.5 mt-2 px-3 py-1 rounded-badge bg-soft-green-50 border border-soft-green-100/50",children:[(0,a.jsx)("span",{className:"text-xs",children:"\uD83C\uDF31"}),(0,a.jsxs)("span",{className:"text-xs font-bold text-soft-green-600",children:["D+",l]}),(0,a.jsx)("span",{className:"text-xs text-soft-green-500",children:"함께 성장한 날"})]})]}),(0,a.jsx)(w,{}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h3",{className:"text-base font-semibold mb-3",children:"오늘의 기록"}),(0,a.jsx)("div",{className:"grid grid-cols-5 gap-2 mb-6",children:[{type:"photo",icon:"\uD83D\uDCF8",label:"사진\n올리기"},{type:"activity",icon:"⏱️",label:"활동\n기록"},{type:"question",icon:"\uD83D\uDCAC",label:"아이\n질문"},{type:"reading",icon:"\uD83D\uDCD6",label:"독서\n기록"},{type:"emotion",icon:"\uD83D\uDE24",label:"감정\n메모"}].map(e=>(0,a.jsx)(b,{icon:e.icon,label:e.label,onClick:()=>i(e.type)},e.type))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-base font-semibold mb-3",children:["오늘 기록한 것들 ",r.length>0&&"(".concat(r.length,")")]}),(0,a.jsx)(f,{activities:r})]}),s&&(0,a.jsx)(N,{type:s,onClose:()=>i(null)})]})}let C={language:"언어",visuospatial:"시지각",workingMemory:"작업기억",processingSpeed:"처리속도",logic:"논리",fineMotor:"소근육"};var S=s(1436),A=s(3082),E=s(4160),F=s(3019),M=s(7539);function I(e){let{scores:t,prevScores:s}=e,i=["language","visuospatial","workingMemory","processingSpeed","logic","fineMotor"].map(e=>({domain:C[e],current:t[e],previous:s[e],fullMark:100}));return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none","aria-hidden":!0,children:[(0,a.jsx)("div",{className:"w-48 h-48 rounded-full opacity-[0.05]",style:{background:"radial-gradient(circle, #5CB87A 0%, transparent 65%)"}}),(0,a.jsx)("div",{className:"absolute w-32 h-32 rounded-full opacity-[0.03]",style:{background:"radial-gradient(circle, #5CB87A 0%, transparent 60%)"}})]}),(0,a.jsx)(S.h,{width:"100%",height:280,children:(0,a.jsxs)(A.H,{data:i,cx:"50%",cy:"50%",outerRadius:"72%",children:[(0,a.jsx)(E.n,{stroke:"#E8E8E8",strokeWidth:.8,strokeDasharray:"3 3"}),(0,a.jsx)(F.I,{dataKey:"domain",tick:{fontSize:11,fill:"#555555",fontWeight:500}}),(0,a.jsx)(M.Fk,{name:"지난 주",dataKey:"previous",stroke:"#D4C8B0",fill:"#D4C8B0",fillOpacity:.1,strokeWidth:1.5,strokeDasharray:"5 4"}),(0,a.jsx)(M.Fk,{name:"이번 주",dataKey:"current",stroke:"#5CB87A",fill:"url(#radarGreenGradient)",fillOpacity:.28,strokeWidth:2.5,dot:{r:3.5,fill:"#5CB87A",stroke:"#FFFFFF",strokeWidth:2}}),(0,a.jsx)("defs",{children:(0,a.jsxs)("radialGradient",{id:"radarGreenGradient",cx:"50%",cy:"50%",r:"50%",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#DCFCE7",stopOpacity:.7}),(0,a.jsx)("stop",{offset:"60%",stopColor:"#5CB87A",stopOpacity:.25}),(0,a.jsx)("stop",{offset:"100%",stopColor:"#5CB87A",stopOpacity:.15})]})})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-6 mt-2 text-xs text-mid-gray",children:[(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-5 h-[3px] rounded-full bg-soft-green inline-block"}),(0,a.jsx)("span",{className:"font-medium",children:"이번 주"})]}),(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-5 h-[2px] inline-block rounded-full",style:{backgroundImage:"repeating-linear-gradient(90deg, #D4C8B0 0, #D4C8B0 3px, transparent 3px, transparent 6px)"}}),(0,a.jsx)("span",{className:"font-medium",children:"지난 주"})]})]})]})}function L(){let{child:e,weeklyReport:t}=d(),s=(null==e?void 0:e.nickname)||"아이";if(!t)return(0,a.jsxs)("div",{className:"px-5 py-16 text-center animate-fadeIn",children:[(0,a.jsx)("div",{className:"w-20 h-20 mx-auto rounded-full bg-soft-green-50 flex items-center justify-center mb-4",children:(0,a.jsx)("span",{className:"text-4xl",children:"\uD83D\uDCCA"})}),(0,a.jsx)("p",{className:"text-base font-semibold text-dark-gray mb-1",children:"아직 리포트가 없어요"}),(0,a.jsx)("p",{className:"text-sm text-mid-gray",children:"기록이 쌓이면 주간 리포트가 생성돼요!"})]});let i=e=>{switch(e){case"up":return"↑";case"stable":return"→";case"down":return"↓"}};return(0,a.jsxs)("div",{className:"px-5 animate-fadeIn",children:[(0,a.jsxs)("div",{className:"py-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-dark-gray",children:["\uD83D\uDCCA ",s,"의 주간 리포트"]}),(0,a.jsxs)("p",{className:"text-sm text-mid-gray mt-1",children:[t.startDate," ~ ",t.endDate]})]}),(0,a.jsx)("div",{className:"chart-card mb-4",children:(0,a.jsx)(I,{scores:t.scores,prevScores:t.prevScores})}),(0,a.jsxs)("div",{className:"card mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2.5 mb-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:"linear-gradient(135deg, #FFF0B8 0%, #F5C542 100%)"},children:(0,a.jsx)("span",{className:"text-sm",children:"⭐"})}),(0,a.jsx)("h3",{className:"text-base font-bold text-dark-gray",children:"이번 주 하이라이트"})]}),(0,a.jsx)("div",{className:"space-y-2.5",children:t.highlights.map((e,t)=>(0,a.jsx)("div",{className:"card-highlight highlight-item",children:(0,a.jsx)("p",{className:"text-sm text-dark-gray leading-relaxed",children:e})},t))})]}),(0,a.jsxs)("div",{className:"card mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2.5 mb-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-soft-green-50 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm",children:"\uD83D\uDCC8"})}),(0,a.jsx)("h3",{className:"text-base font-bold text-dark-gray",children:"발달 구간"})]}),(0,a.jsx)("div",{className:"space-y-0",children:Object.keys(t.bands).map(e=>{let s=t.bands[e];return(0,a.jsxs)("div",{className:"report-domain-row",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-dark-gray",children:C[e]}),(0,a.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,a.jsx)("span",{className:"text-sm text-dark-gray font-semibold",children:s.band}),(0,a.jsx)("span",{className:"\n                      trend-indicator\n                      ".concat("up"===s.trend?"trend-up":"stable"===s.trend?"trend-stable":"trend-down","\n                    "),children:i(s.trend)})]})]},e)})}),(0,a.jsxs)("div",{className:"mt-4 pt-3 border-t border-light-gray/40 flex items-center gap-5 text-[10px] text-mid-gray",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"w-2.5 h-2.5 rounded-full bg-soft-green"})," 향상"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"w-2.5 h-2.5 rounded-full bg-calm-blue"})," 유지"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"w-2.5 h-2.5 rounded-full bg-soft-coral"})," 관심"]})]})]}),(0,a.jsx)("div",{className:"info-banner mb-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-2.5",children:[(0,a.jsx)("span",{className:"text-sm mt-0.5 shrink-0",children:"ℹ️"}),(0,a.jsx)("p",{className:"text-xs text-calm-blue-dark leading-relaxed",children:"구간은 같은 또래 평균 대비 위치를 나타내요. 점수가 아닌 범위로 보여드려요."})]})})]})}function B(){let{child:e,weeklyReport:t,recommendations:s,products:i}=d(),l=(null==e?void 0:e.nickname)||"아이",[n,r]=(0,c.useState)(s),[o,m]=(0,c.useState)(i),[x,u]=(0,c.useState)(!1),[h,g]=(0,c.useState)(null);(0,c.useEffect)(()=>{r(s),m(i)},[s,i]);let p=async()=>{u(!0);try{let s=await fetch("/api/recommend",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({childProfile:e,weeklyReport:t})});if(!s.ok)throw Error("추천 로드 실패");let a=await s.json();r(a.activities||[]),m(a.products||[]),g(new Date().toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}))}catch(e){console.error("추천 새로고침 실패:",e)}finally{u(!1)}};return(0,a.jsxs)("div",{className:"px-5",children:[(0,a.jsxs)("div",{className:"py-4 flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold",children:["\uD83D\uDCA1 ",l,"를 위한 맞춤 추천"]}),(0,a.jsxs)("p",{className:"text-sm text-mid-gray mt-1",children:["AI가 이번 주 기록을 분석했어요",h&&(0,a.jsxs)("span",{className:"text-xs",children:[" \xb7 ",h," 업데이트"]})]})]}),(0,a.jsx)("button",{onClick:p,disabled:x,className:"px-3 py-1.5 rounded-full text-xs font-semibold\n                     ".concat(x?"bg-gray-100 text-gray-400":"bg-soft-green-50 text-soft-green-600 hover:bg-soft-green-100"," transition-all"),children:x?"⏳ 분석 중...":"\uD83D\uDD04 새로고침"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-base font-semibold mb-3",children:"\uD83C\uDFAF 이번 주 추천 활동"}),0===n.length?(0,a.jsxs)("div",{className:"card text-center py-6",children:[(0,a.jsx)("p",{className:"text-3xl mb-2",children:"\uD83E\uDD14"}),(0,a.jsx)("p",{className:"text-sm text-mid-gray",children:"기록을 더 남기면 맞춤 추천을 드릴 수 있어요!"})]}):(0,a.jsx)("div",{className:"space-y-3",children:n.map((e,t)=>(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-card bg-soft-green-50 flex items-center justify-center shrink-0",children:(0,a.jsx)("span",{className:"text-xl",children:e.icon})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-bold text-dark-gray text-sm",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-dark-gray/80 mt-1 leading-relaxed",children:["“",e.description,"”"]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-xs text-mid-gray",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:["\uD83D\uDCCC ",e.reason]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:["⏰ ",e.duration]})]})]})]}),(0,a.jsx)("button",{className:"w-full mt-4 py-2.5 bg-soft-green-50 text-soft-green-600 rounded-button text-sm font-bold border border-soft-green-100/50 hover:bg-soft-green-100 hover:text-soft-green-700 active:scale-[0.98] transition-all duration-200",children:"▶️ 활동 시작하기"})]},t))})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-base font-semibold mb-3",children:"\uD83D\uDED2 추천 교구"}),0===o.length?(0,a.jsxs)("div",{className:"card text-center py-6",children:[(0,a.jsx)("p",{className:"text-3xl mb-2",children:"\uD83D\uDECD️"}),(0,a.jsx)("p",{className:"text-sm text-mid-gray",children:"아이 발달에 맞는 교구를 추천해 드릴게요!"})]}):(0,a.jsx)("div",{className:"space-y-3",children:o.map((e,t)=>(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-warm-beige-100 rounded-card flex items-center justify-center text-3xl shrink-0 border border-warm-beige-300/30",children:e.icon}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h4",{className:"font-bold text-dark-gray text-sm",children:e.name}),(0,a.jsx)("p",{className:"text-base font-bold text-soft-green-600 mt-1",children:e.price}),(0,a.jsxs)("p",{className:"text-xs text-mid-gray mt-1 leading-relaxed",children:["\uD83D\uDCAC “",e.reason,"”"]})]})]}),(0,a.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"block w-full mt-4 py-2.5 rounded-button text-sm font-bold text-center border border-sunny-yellow-light text-sunny-yellow-dark hover:shadow-card active:scale-[0.98] transition-all duration-200",style:{background:"linear-gradient(135deg, #FFFDF5 0%, #FFF8E0 100%)"},children:"\uD83D\uDED2 쿠팡에서 보기 →"})]},t))})]}),(0,a.jsx)("div",{className:"info-banner mb-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-sm shrink-0",children:"ℹ️"}),(0,a.jsx)("p",{className:"text-xs text-calm-blue-dark leading-relaxed",children:"추천은 AI 분석 기반이며, 구매 시 수수료를 받을 수 있어요."})]})})]})}var O=s(5547),T=s(6940),q=s(7059),R=s(2994),_=s(5637),z=s(8191);function W(e){let{data:t,domain:s}=e,i=t.map(e=>({month:e.month,value:e.scores[s],predicted:e.predicted?e.scores[s]:void 0,actual:e.predicted?void 0:e.scores[s]})),l=t.findIndex(e=>e.predicted)-1;return l>=0&&i[l]&&(i[l].predicted=i[l].value),(0,a.jsx)(S.h,{width:"100%",height:160,children:(0,a.jsxs)(O.T,{data:i,margin:{top:5,right:10,left:-20,bottom:0},children:[(0,a.jsx)(T.q,{strokeDasharray:"3 3",stroke:"#E8E8E8",vertical:!1}),(0,a.jsx)(q.K,{dataKey:"month",tick:{fontSize:11,fill:"#888888"},axisLine:!1,tickLine:!1}),(0,a.jsx)(R.B,{domain:[40,100],tick:{fontSize:10,fill:"#888888"},axisLine:!1,tickLine:!1}),(0,a.jsx)(_.uN,{type:"monotone",dataKey:"predicted",stroke:"none",fill:"#FFD966",fillOpacity:.15,connectNulls:!1}),(0,a.jsx)(_.uN,{type:"monotone",dataKey:"actual",stroke:"none",fill:"#6BBF8A",fillOpacity:.1,connectNulls:!1}),(0,a.jsx)(z.x1,{type:"monotone",dataKey:"actual",stroke:"#6BBF8A",strokeWidth:2,dot:{fill:"#6BBF8A",r:4},connectNulls:!1}),(0,a.jsx)(z.x1,{type:"monotone",dataKey:"predicted",stroke:"#6BBF8A",strokeWidth:2,strokeDasharray:"6 4",dot:{fill:"white",stroke:"#6BBF8A",strokeWidth:2,r:4},connectNulls:!1})]})})}let K=["language","visuospatial","workingMemory","processingSpeed","logic","fineMotor"];function P(){let{child:e,monthlyData:t,milestones:s}=d(),i=(null==e?void 0:e.nickname)||"아이",[l,n]=(0,c.useState)("all");return(0,a.jsxs)("div",{className:"px-5",children:[(0,a.jsxs)("div",{className:"py-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold",children:["\uD83D\uDCC8 ",i,"의 성장 이야기"]}),(0,a.jsx)("p",{className:"text-sm text-mid-gray mt-1",children:"최근 3개월 + AI 예측"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,a.jsx)("button",{onClick:()=>n("all"),className:"px-3.5 py-1.5 rounded-full text-xs font-semibold\n                      transition-all duration-200 active:scale-95\n            ".concat("all"===l?"bg-gradient-green text-white shadow-btn-green":"bg-white text-dark-gray border border-light-gray shadow-card-active hover:border-soft-green/40"),children:"전체"}),K.map(e=>(0,a.jsx)("button",{onClick:()=>n(e),className:"px-3.5 py-1.5 rounded-full text-xs font-semibold\n                        transition-all duration-200 active:scale-95\n              ".concat(l===e?"bg-gradient-green text-white shadow-btn-green":"bg-white text-dark-gray border border-light-gray shadow-card-active hover:border-soft-green/40"),children:C[e]},e))]}),(0,a.jsx)("div",{className:"space-y-4",children:("all"===l?K:[l]).map(e=>(0,a.jsxs)("div",{className:"chart-card",children:[(0,a.jsx)("h3",{className:"text-sm font-bold text-dark-gray mb-1",children:C[e]}),(0,a.jsx)("div",{className:"chart-area",children:(0,a.jsx)(W,{data:t,domain:e})})]},e))}),(0,a.jsxs)("div",{className:"mt-6 mb-4",children:[(0,a.jsx)("h3",{className:"section-title",children:"\uD83C\uDFC6 마일스톤 달성!"}),(0,a.jsx)("div",{className:"card space-y-0",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-3 py-3\n                                         ".concat(t<s.length-1?"border-b border-light-gray/40":""),children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-sunny-yellow-light/50 flex items-center justify-center shrink-0",children:(0,a.jsx)("span",{className:"text-xl",children:e.icon})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-bold text-dark-gray",children:e.title}),(0,a.jsxs)("p",{className:"text-xs text-mid-gray mt-0.5",children:[e.achievedDate," 달성"]})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"card-insight mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)("div",{className:"w-7 h-7 rounded-full bg-soft-green/15 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm",children:"\uD83D\uDD2E"})}),(0,a.jsx)("h3",{className:"text-sm font-bold text-soft-green-600",children:"AI 예측"})]}),(0,a.jsxs)("div",{className:"space-y-2.5",children:[(0,a.jsxs)("p",{className:"text-sm text-dark-gray leading-relaxed",children:["“지금 속도라면 3개월 후 시지각이 ",(0,a.jsx)("span",{className:"font-bold text-soft-green-600",children:"상위 15%"}),"에 도달할 수 있어요!”"]}),(0,a.jsx)("p",{className:"text-sm text-dark-gray leading-relaxed",children:"“언어 영역도 꾸준히 성장 중이에요. 독서 습관이 큰 도움이 되고 있어요 \uD83D\uDCDA”"})]})]})]})}let U="growth-tracker-reminders",J="growth-tracker-notification-permission",G=[{id:"morning",time:"09:00",enabled:!1,message:"☀️ 좋은 아침! 오늘 아이의 첫 기록을 남겨볼까요?"},{id:"evening",time:"20:00",enabled:!1,message:"\uD83C\uDF19 오늘 하루는 어땠나요? 아이 기록을 남겨보세요!"}];function H(){let e=localStorage.getItem(U);if(!e)return G;try{return JSON.parse(e)}catch(e){return G}}function Q(e,t){let s=H().map(s=>s.id===e?{...s,...t}:s);return localStorage.setItem(U,JSON.stringify(s)),s}async function V(){if(!("Notification"in window))return!1;if("granted"===Notification.permission)return localStorage.setItem(J,"granted"),!0;if("denied"===Notification.permission)return!1;let e=await Notification.requestPermission();return localStorage.setItem(J,e),"granted"===e}function Z(e,t,s){let a=new Blob([e],{type:s}),i=URL.createObjectURL(a),l=document.createElement("a");l.href=i,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i)}function $(e){let{onClose:t}=e,{child:s,children:i,activeChildId:l,activities:n,switchChild:r,resetAll:o}=d(),[m,x]=(0,c.useState)([]),[u,h]=(0,c.useState)("default");(0,c.useEffect)(()=>{x(H()),h("Notification"in window?Notification.permission:"unsupported")},[]);let g=async(e,t)=>{if(t&&"granted"!==u){let e=await V();if(h(e?"granted":"denied"),!e){alert("알림 권한이 필요합니다. 브라우저 설정에서 허용해주세요.");return}}x(Q(e,{enabled:t}))},p=(e,t)=>{x(Q(e,{time:t}))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bottom-sheet-backdrop",onClick:t}),(0,a.jsxs)("div",{className:"fixed inset-x-0 bottom-0 top-20 left-1/2 -translate-x-1/2 w-full max-w-[430px] bg-white rounded-t-[24px] z-50 animate-slideUp overflow-y-auto",style:{boxShadow:"0 -8px 40px rgba(0,0,0,0.08), 0 -2px 12px rgba(0,0,0,0.04)"},children:[(0,a.jsx)("div",{className:"bottom-sheet-handle"}),(0,a.jsxs)("div",{className:"px-5 pb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold",children:"⚙️ 설정"}),(0,a.jsx)("button",{onClick:t,className:"text-mid-gray text-xl",children:"✕"})]}),i.length>1&&(0,a.jsxs)("div",{className:"bg-warm-beige rounded-card p-4 mb-4",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold mb-3",children:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66 아이 선택"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map(e=>(0,a.jsx)("button",{onClick:()=>r(e.id),className:"px-4 py-2 rounded-full text-sm font-medium transition-all\n                      ".concat(l===e.id?"bg-soft-green text-white":"bg-white border border-light-gray hover:border-soft-green/40"),children:e.nickname},e.id))})]}),(0,a.jsxs)("div",{className:"bg-warm-beige rounded-card p-4 mb-4",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"\uD83D\uDC76 현재 아이 정보"}),(0,a.jsxs)("p",{className:"text-sm",children:["이름: ",null==s?void 0:s.nickname]}),(0,a.jsxs)("p",{className:"text-sm",children:["나이: 만 ",null==s?void 0:s.age,"세"]}),(0,a.jsxs)("p",{className:"text-sm",children:["성별: ",(null==s?void 0:s.gender)==="female"?"여아":(null==s?void 0:s.gender)==="male"?"남아":"안 밝힘"]})]}),(0,a.jsxs)("div",{className:"bg-warm-beige rounded-card p-4 mb-4",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold mb-3",children:"\uD83D\uDD14 알림 리마인더"}),"denied"===u&&(0,a.jsx)("p",{className:"text-xs text-red-500 mb-3",children:"⚠️ 알림이 차단되었습니다. 브라우저 설정에서 허용해주세요."}),"unsupported"===u&&(0,a.jsx)("p",{className:"text-xs text-mid-gray mb-3",children:"ℹ️ 이 브라우저는 알림을 지원하지 않습니다."}),(0,a.jsx)("div",{className:"space-y-3",children:m.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"morning"===e.id?"☀️ 아침 알림":"\uD83C\uDF19 저녁 알림"}),(0,a.jsx)("input",{type:"time",value:e.time,onChange:t=>p(e.id,t.target.value),disabled:!e.enabled,className:"mt-1 px-2 py-1 text-sm border border-light-gray rounded disabled:opacity-50 disabled:bg-gray-100"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.enabled,onChange:t=>g(e.id,t.target.checked),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-soft-green"})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"bg-warm-beige rounded-card p-4 mb-4",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold mb-3",children:"\uD83D\uDCBE 데이터 내보내기"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>(function(e){let t=["날짜,시간,유형,내용,상세",...e.map(e=>{let t=new Date(e.timestamp),s=t.toLocaleDateString("ko-KR"),a=t.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),i="",l="";switch(e.type){case"activity":let n=e.data;i=n.category,l="".concat(n.durationMin,"분").concat(n.detail?" - ".concat(n.detail):"");break;case"question":let r=e.data;i=r.quote,l=r.context||"";break;case"reading":let d=e.data;i=d.bookTitle,l="".concat(d.readAlone?"혼자":"같이").concat(d.durationMin?" ".concat(d.durationMin,"분"):"");break;case"emotion":let c=e.data;i="".concat(c.emoji," ").concat(c.label),l=c.note||"";break;case"photo":let o=e.data;i=o.fileName,l=o.note||""}let m=e=>'"'.concat(e.replace(/"/g,'""'),'"');return[s,a,{photo:"사진",activity:"활동",question:"질문",reading:"독서",emotion:"감정"}[e.type]||e.type,m(i),m(l)].join(",")})].join("\n"),s=new Date().toISOString().split("T")[0];Z(t,"성장트래커_기록_".concat(s,".csv"),"text/csv;charset=utf-8")})(n),className:"flex-1 py-2.5 rounded-button font-medium text-sm bg-white border border-light-gray hover:border-soft-green/40 hover:shadow-card transition-all",children:"\uD83D\uDCCA CSV 내보내기"}),(0,a.jsx)("button",{onClick:()=>(function(e,t){let s=JSON.stringify({child:e,activities:t},null,2),a=new Date().toISOString().split("T")[0];Z(s,"성장트래커_전체_".concat(a,".json"),"application/json")})(s,n),className:"flex-1 py-2.5 rounded-button font-medium text-sm bg-white border border-light-gray hover:border-soft-green/40 hover:shadow-card transition-all",children:"\uD83D\uDCC1 JSON 백업"})]}),(0,a.jsxs)("p",{className:"text-xs text-mid-gray mt-2",children:["기록 ",n.length,"개를 내보낼 수 있어요."]})]}),(0,a.jsxs)("div",{className:"bg-warm-beige rounded-card p-4 mb-4",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"\uD83D\uDCF1 앱 정보"}),(0,a.jsx)("p",{className:"text-sm",children:"버전: MVP 0.2.0"}),(0,a.jsx)("p",{className:"text-sm",children:"데이터: localStorage (로컬 저장)"}),(0,a.jsx)("p",{className:"text-xs text-mid-gray mt-2",children:"이 앱은 PWA로 홈 화면에 설치할 수 있습니다."})]}),(0,a.jsx)("button",{onClick:()=>{confirm("모든 데이터가 삭제됩니다. 처음부터 다시 시작할까요?")&&(o(),t())},className:"w-full py-3 rounded-button font-semibold text-sm bg-soft-coral/10 text-soft-coral border border-soft-coral/30 hover:bg-soft-coral/20 transition-all",children:"\uD83D\uDDD1️ 모든 데이터 초기화 (처음부터 다시)"})]})]})]})}let X=[{id:"domains",emoji:"\uD83E\uDDE0",title:"6개 발달 영역이란?",content:["**언어**: 말하기, 듣기, 어휘력, 표현력","**시지각**: 공간 인식, 도형 이해, 시각적 기억","**작업기억**: 정보를 잠시 기억하고 활용하는 능력","**처리속도**: 빠르고 정확하게 정보를 처리하는 능력","**논리**: 문제 해결, 패턴 인식, 추론 능력","**소근육**: 손가락 조작, 그리기, 오리기 등"]},{id:"record-tips",emoji:"\uD83D\uDCDD",title:"효과적인 기록 방법",content:["• 하루 2-3개 기록이면 충분해요","• 완벽하지 않아도 괜찮아요, 간단히 메모하세요","• 아이가 한 질문, 특이한 행동을 기록해보세요","• 사진과 함께 기록하면 더 좋아요","• 매일 같은 시간에 기록하면 습관이 됩니다"]},{id:"age-guide",emoji:"\uD83D\uDC76",title:"연령별 발달 가이드",content:["**만 4세**: 질문이 폭발하는 시기! '왜?'를 많이 물어요","**만 5세**: 친구 관계가 중요해지고, 규칙을 이해해요","**만 6세**: 학교 준비, 읽기/쓰기에 관심이 생겨요","","\uD83D\uDCA1 각 아이마다 속도가 달라요. 비교보다 성장에 집중하세요!"]},{id:"play-ideas",emoji:"\uD83C\uDFAE",title:"영역별 추천 놀이",content:["**언어**: 끝말잇기, 수수께끼, 동화 읽기","**시지각**: 퍼즐, 블록, 숨은그림찾기","**작업기억**: 카드 뒤집기, 순서 기억하기","**처리속도**: 미로 찾기, 빠른 색칠하기","**논리**: 보드게임, 패턴 맞추기","**소근육**: 가위질, 구슬 꿰기, 점토 놀이"]},{id:"faq",emoji:"❓",title:"자주 묻는 질문",content:["**Q: 점수가 낮으면 문제가 있는 건가요?**","A: 아니요! 점수는 상대적 위치일 뿐, 아이마다 강점이 달라요.","","**Q: 얼마나 자주 기록해야 하나요?**","A: 매일 1-3개면 충분해요. 부담 갖지 마세요!","","**Q: AI 분석은 정확한가요?**","A: 참고용이에요. 걱정되면 전문가 상담을 권해드려요."]}];function Y(e){let{onClose:t}=e,[s,i]=(0,c.useState)("domains"),l=e=>{i(s===e?null:e)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bottom-sheet-backdrop",onClick:t}),(0,a.jsxs)("div",{className:"fixed inset-x-0 bottom-0 top-16 left-1/2 -translate-x-1/2 w-full max-w-[430px] bg-white rounded-t-[24px] z-50 animate-slideUp overflow-hidden flex flex-col",style:{boxShadow:"0 -8px 40px rgba(0,0,0,0.08)"},children:[(0,a.jsx)("div",{className:"bottom-sheet-handle"}),(0,a.jsxs)("div",{className:"px-5 pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-bold",children:"\uD83D\uDCDA 부모 가이드"}),(0,a.jsx)("button",{onClick:t,className:"text-mid-gray text-xl",children:"✕"})]}),(0,a.jsx)("p",{className:"text-sm text-mid-gray mt-1",children:"아이 발달에 대해 알아보세요"})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto px-5 pb-8",children:[(0,a.jsx)("div",{className:"space-y-3 mt-4",children:X.map(e=>(0,a.jsxs)("div",{className:"bg-warm-beige rounded-card overflow-hidden",children:[(0,a.jsxs)("button",{onClick:()=>l(e.id),className:"w-full px-4 py-3 flex items-center justify-between text-left",children:[(0,a.jsxs)("span",{className:"flex items-center gap-2 font-semibold text-sm",children:[(0,a.jsx)("span",{className:"text-lg",children:e.emoji}),e.title]}),(0,a.jsx)("span",{className:"text-mid-gray transition-transform duration-200",style:{transform:s===e.id?"rotate(180deg)":"rotate(0)"},children:"▼"})]}),s===e.id&&(0,a.jsx)("div",{className:"px-4 pb-4 pt-1 border-t border-white/50",children:(0,a.jsx)("div",{className:"space-y-1.5 text-sm text-dark-gray/90 leading-relaxed",children:e.content.map((e,t)=>(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:e.replace(/\*\*(.*?)\*\*/g,'<strong class="font-semibold text-soft-green-700">$1</strong>')}},t))})})]},e.id))}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-calm-blue-light/50 rounded-card",children:[(0,a.jsx)("p",{className:"text-sm font-semibold mb-2",children:"\uD83D\uDCCE 더 알아보기"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsx)("a",{href:"https://www.cdc.gov/ncbddd/childdevelopment/facts.html",target:"_blank",rel:"noopener noreferrer",className:"block text-calm-blue hover:underline",children:"• CDC 아동 발달 가이드 (영문)"}),(0,a.jsx)("a",{href:"https://www.nhis.or.kr",target:"_blank",rel:"noopener noreferrer",className:"block text-calm-blue hover:underline",children:"• 국민건강보험공단 영유아 검진"})]})]})]})]})]})}let ee=[{id:"home",icon:"\uD83C\uDFE0",iconActive:"\uD83C\uDFE1",label:"홈"},{id:"report",icon:"\uD83D\uDCCA",iconActive:"\uD83D\uDCCA",label:"리포트"},{id:"recommend",icon:"\uD83D\uDCA1",iconActive:"\uD83D\uDCA1",label:"추천"},{id:"monthly",icon:"\uD83D\uDCC8",iconActive:"\uD83D\uDCC8",label:"추이"}];function et(){let[e,t]=(0,c.useState)("home"),[s,i]=(0,c.useState)(!1),[l,n]=(0,c.useState)(!1);return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col bg-warm-beige",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between px-5 pt-4 pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:"\uD83C\uDF31"}),(0,a.jsx)("span",{className:"text-sm font-semibold text-soft-green hidden",children:"성장 트래커"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>n(!0),className:"w-9 h-9 rounded-full bg-white/80 shadow-badge flex items-center justify-center hover:shadow-card transition-all duration-200","aria-label":"가이드",children:(0,a.jsx)("span",{className:"text-sm",children:"\uD83D\uDCDA"})}),(0,a.jsx)("button",{onClick:()=>i(!0),className:"w-9 h-9 rounded-full bg-white/80 shadow-badge flex items-center justify-center hover:shadow-card transition-all duration-200","aria-label":"설정",children:(0,a.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:[(0,a.jsx)("path",{d:"M9 11.25C10.2426 11.25 11.25 10.2426 11.25 9C11.25 7.75736 10.2426 6.75 9 6.75C7.75736 6.75 6.75 7.75736 6.75 9C6.75 10.2426 7.75736 11.25 9 11.25Z",stroke:"#888",strokeWidth:"1.5",strokeLinecap:"round"}),(0,a.jsx)("path",{d:"M7.3 2.1L7.65 3.15C7.85 3.7 7.55 4.3 7 4.5L6.5 4.7C5.95 4.9 5.35 4.6 5.15 4.05L4.8 3M10.7 2.1L10.35 3.15C10.15 3.7 10.45 4.3 11 4.5L11.5 4.7C12.05 4.9 12.65 4.6 12.85 4.05L13.2 3",stroke:"#888",strokeWidth:"1.2",strokeLinecap:"round",opacity:"0.6"})]})})]})]}),(0,a.jsxs)("main",{className:"flex-1 overflow-y-auto pb-24",children:["home"===e&&(0,a.jsx)(k,{}),"report"===e&&(0,a.jsx)(L,{}),"recommend"===e&&(0,a.jsx)(B,{}),"monthly"===e&&(0,a.jsx)(P,{})]}),(0,a.jsx)("nav",{className:"fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-[430px] z-50",children:(0,a.jsx)("div",{className:"mx-3 mb-2 px-4 pt-2.5 pb-3 rounded-2xl glass-strong shadow-tab-bar safe-bottom",children:(0,a.jsx)("div",{className:"flex justify-around",children:ee.map(s=>{let i=e===s.id;return(0,a.jsxs)("button",{onClick:()=>t(s.id),className:"\n                    relative flex flex-col items-center gap-0.5\n                    min-w-[48px] py-1 px-3 rounded-xl\n                    transition-all duration-200\n                    ".concat(i?"text-soft-green":"text-mid-gray hover:text-soft-green/60","\n                  "),children:[i&&(0,a.jsx)("div",{className:"absolute -top-0.5 left-1/2 -translate-x-1/2 w-5 h-1 rounded-full bg-soft-green shadow-btn-green animate-scale-in-sm"}),(0,a.jsx)("span",{className:"text-xl transition-transform duration-200",style:{transform:i?"scale(1.12)":"scale(1)"},children:i?s.iconActive:s.icon}),(0,a.jsx)("span",{className:"text-[10px] transition-all duration-200 ".concat(i?"font-bold text-soft-green-600":"font-medium"),children:s.label})]},s.id)})})})}),s&&(0,a.jsx)($,{onClose:()=>i(!1)}),l&&(0,a.jsx)(Y,{onClose:()=>n(!1)})]})}function es(){return d(e=>e.onboardingComplete)?(0,a.jsx)(et,{}):(0,a.jsx)(p,{})}}},function(e){e.O(0,[941,971,117,744],function(){return e(e.s=637)}),_N_E=e.O()}]);